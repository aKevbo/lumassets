"use strict";SharkGame.Reflection={tabId:"reflection",tabDiscovered:!1,tabSeen:!1,tabName:"Reflection",tabBg:"img/bg/bg-gate.png",sceneImage:"img/events/misc/scene-reflection.png",discoverReq:{resource:{essence:1}},message:"You may not remember everything, but you are something more than a shark now.</br><span='medDesc'>Reflect upon the changes in yourself and reality you have made here.</span>",init(){SharkGame.TabHandler.registerTab(this)},setup(){},switchTo(){const e=SharkGame.Reflection,a=$("#content");a.append($("<div>").attr("id","tabMessage")),a.append($("<h2>").attr("id","enabledAspectHead")),a.append($("<div>").attr("id","aspectList")),a.append($("<h2>").attr("id","disabledAspectHead")),a.append($("<div>").attr("id","disabledAspectList"));let t=e.message;const s=$("#tabMessage");SharkGame.Settings.current.showTabImages&&(t="<img width=400 height=200 src='"+e.sceneImage+"' id='tabSceneImageEssence'>"+t,s.css("background-image","url('"+e.tabBg+"')")),s.html(t),e.updateAspectList(),SharkGame.persistentFlags.seenReflection=!0},update(){},updateAspectList(){const e=$("#aspectList");$.each(SharkGame.Aspects,((a,t)=>{if(t.level>0&&!t.ignore){let s=t.name+"<br><span class='medDesc reflectionText'>";t.level>=t.max?s+="(Maximum Level)":s+="(Level: "+sharktext.beautify(t.level)+")",s+=`<br>${t.getEffect(t.level)}</span>`;const n=$("<div>").addClass("aspectDiv");if(n.append(s),e.append(n),SharkGame.Settings.current.showIcons){const e=SharkGame.changeSprite(SharkGame.spriteIconPath,"aspects/"+a,null,"aspects/apotheosis");e&&(e.addClass("button-icon"),e.addClass("gatewayButton"),n.prepend(e))}}})),0===$("#aspectList > div").length&&e.append("<p><em>You have no aspects to you yet.</em></p>");const a=$("#disabledAspectList");$.each(SharkGame.persistentFlags.aspectStorage,((e,t)=>{const s=SharkGame.Aspects[e];if(t&&s&&!s.ignore){let n=s.name+"<br><span class='medDesc reflectionText'>";t>=s.max?n+="(Maximum Level)":n+="(Level: "+sharktext.beautify(t)+")",n+=`<br>${s.getEffect(t)}</span>`;const i=$("<div>").addClass("disabledAspectDiv");if(i.append(n),a.append(i),SharkGame.Settings.current.showIcons){const a=SharkGame.changeSprite(SharkGame.spriteIconPath,"aspects/"+e,null,"aspects/apotheosis");a&&(a.addClass("button-icon"),a.addClass("gatewayButton"),i.prepend(a))}}})),0!==$("#disabledAspectList > div").length&&($("#disabledAspectHead").html("Disabled Aspects"),$("#enabledAspectHead").html("Enabled Aspects"))}};