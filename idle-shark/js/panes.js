SharkGame.Panes={credits:"<p>This game was originally created in 3 days for Seamergency 2014.<br/><span class='smallDesc'>(Technically it was 4 days, but sometimes plans go awry.)</span></p><p>It was made by <a href='http://cirri.al'>Cirr</a> who needs to update his website.<br/>He has a rarely updated <a href='https://twitter.com/Cirrial'>Twitter</a> though.</p><p>Additional code and credit help provided by Dylan and Sam Red.<br/><span class='smallDesc'>Dylan is also graciously hosting the original game.</span></p><br><p><a href='https://github.com/spencers145/SharkGame'>NEW FRONTIERS</a> created by base4/spencers145.<br/>Art and sprite contributions by Jay, <a href='https://www.imdb.com/name/nm12683932/'>Noah Deibler,</a> and <a href='https://twitter.com/vhs_static'>@vhs_static</a> and friends.<br/>Additional help from <a href='https://github.com/stampyzfanz'>Ixbixbam</a>.<br/><span class='smallDesc'>Ixbix's games at his little corner of the internet are </span><a href='https://stampyzfanz.github.io/'>here</a><span class='smallDesc'>.</span><br/><span>With help by <a href=\"https://github.com/Toby222\">Toby</a></span><br/>",ending:"<p>Congratulations! You did it.<br/>You saved the sharks!</p><p>The gate leads away from this strange ocean...</p><p>Back home to the oceans you came from!</p><h3>Or are they?</h3>",cheats:"<p>You enter the space between worlds.</p><p><strong>1000 essence.</strong> You glow. The ether flows through you like blood.</p><p>Your long journey has made you strong, fast, and clever. Your power grows with every world you visit.</p><p>Your radiant energy shines through the deepest chasms and the smuggest grins; the iciest cold and the bleakest cities. You are something much more than a shark now.</p><p>And yet...your home is nowhere in sight.</p><p>You stop to ponder this conundrum.</p><p>If your home is truly lost, then what is the point?</p><p>Is the journey the point? Or is it perhaps the power? In truth, it was always your decision. No-one can make it for you.</p><p>But regardless, your adventure has come to an end...for now. You can always come back again. Perhaps when there are more places to visit, and things to see, you will find what you seek.</p><hr><p><strong>Cheats unlocked.</strong></p><p>Visit a world to engage in ridiculous hijinks.</p><p>Thank you for playing New Frontiers! I hope to see you back again next update.</p>",help:"<p>This game is a game about resources and discovery, and does not demand your full attention. It will happily run in the background, and works even while closed.</p><p>To begin, you should catch fish. Once you have some fish, more actions will become available.</p><p>If you are ever stuck, double-check that you have already bought everything, then make sure there's not a resource you've been neglecting.</p><p>If you are still stuck, or if you think it's a bug, you can always ask for help on the <a href='https://discord.gg/nN7BQDJR2G' target='blank_'>discord server</a>.</p>",donate:"<h2>You can donate to various projects and organizations below to help support sea life:</h2><span class='smallDescAllowClicks'>(seems only fitting, given the original game was made for a charity event)</span><p><strong>#TeamSeas</strong> is a project which is using donations to take over 30 million pounds of trash out of the ocean. You can <a href='https://teamseas.org/'>donate to #TeamSeas here</a>.</p><p><strong>The Shark Trust</strong> is an organization that exists solely to advocate for research into, education about, and fair treatment of sharks. You can <a href='https://www.sharktrust.org/Listing/Category/donate' target='_blank'>donate to the Shark Trust here</a>.</p><p><span class='smallDescAllowClicks'>(But if you'd rather, you can also <a href='https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=G3WPPAYAWTJCJ&lc=GB&item_name=Shark%20Game%20Developer%20Support&item_number=Shark%20Game%20Support&no_note=1&no_shipping=1&currency_code=USD&bn=PP%2dDonationsBF%3adonate%2epng%3aNonHosted' target='_blank'>support the developer of the original shark game,</a> if you'd like.)</span></p><p>The developers of the mod are not currently taking donations.</p>",notice:"<p>Welcome to the open <b>alpha</b> of v0.2 for New Frontiers.</p><p>v0.2 is a total rework.<br/>Right now only four worlds (besides the starter world) are playable.<br><b>Things will be missing.</b> New stuff will be added.</p><p>To give feedback or contribute, check out our <a href='https://discord.gg/eYqApFkFPY'>Discord</a>.</p><p>To play the stable (OUTDATED) version (with all planets), visit <a href='https://spencers145.github.io/SharkGame/'>this link</a>.</p>",safariNotice:"It seems you are using Safari.<br />This browser is currently not well-tested due to lack of corresponding hardware.<br />If you are willing to help us test it, please join us on <a href='https://discord.gg/s4tTj7y72z'>Discord</a>, or message <a target='_blank' href='https://www.reddit.com/user/toby_prime'>Toby</a> or <a target='_blank' href='https://www.reddit.com/user/SpencerS145/'>Base</a> on Reddit."},SharkGame.PaneHandler={paneStack:[],currentPane:void 0,init(){SharkGame.PaneHandler.wipeStack(),SharkGame.PaneHandler.buildPane()},buildPane(){const e=$("<div>").attr("id","pane");$("body").append(e);const a=$("<div>").attr("id","paneHeader");return a.append($("<div>").attr("id","paneHeaderTitleDiv")),a.append($("<div>").attr("id","paneHeaderCloseButtonDiv").append($("<button>").attr("id","paneHeaderCloseButton").addClass("min close-button").html("âœ•").on("click",SharkGame.PaneHandler.nextPaneInStack))),e.append(a),e.append($("<div>").attr("id","paneHeaderEnd").addClass("clear-fix")),e.append($("<div>").attr("id","paneContent")),e.hide(),SharkGame.paneGenerated=!0,e},addPaneToStack(e,a,t,n=600,s){const r=[e,a,t,n,s];this.currentPane&&this.paneStack.push(_.cloneDeep(this.currentPane)),this.currentPane=r,this.showPane(e,a,t,n,s,!0)},swapCurrentPane(e,a,t,n=600,s){const r=[e,a,t,n,s];this.currentPane=r,this.showPane(e,a,t,n,s)},wipeStack(){SharkGame.PaneHandler.paneStack=[],SharkGame.PaneHandler.currentPane=void 0,SharkGame.PaneHandler.hidePane()},nextPaneInStack(){const e=SharkGame.PaneHandler;e.currentPane=e.paneStack.pop(),e.currentPane?e.showPane(e.currentPane[0],e.currentPane[1],e.currentPane[2],e.currentPane[3],e.currentPane[4]):e.hidePane()},isStackClosable(){let e;return!this.currentPane||(e=!this.currentPane[2],_.each(this.paneStack,(a=>{e=e&&!a[2]})),e)},tryClosePane(){if(this.isPaneUp()&&this.isCurrentPaneCloseable())return this.nextPaneInStack(),!0},tryWipeStack(){for(;this.currentPane;)if(!this.tryClosePane())return!1;return!0},isPaneUp:()=>!$("#pane").is(":hidden")&&$("#pane").html(),isCurrentPaneCloseable(){return!!this.currentPane&&!this.currentPane[2]},isPaneAlreadyUp(e){let a;return!!this.currentPane&&(a=this.currentPane[0]===e,_.each(this.paneStack,(t=>{a=a||t[0]===e})),a)},showPane(e,a,t,n,s,r){const o=$("#pane"),i=$("#overlay"),d=$("#overlay").hasClass("gateway")?1:s||.5;SharkGame.OverlayHandler.revealOverlay(n,d);const p=$("#paneHeaderTitleDiv"),h=$("#paneHeaderCloseButtonDiv");let l;if(e&&""!==e?(p.show(),t?(p.css({float:"none","text-align":"center",clear:"both"}),p.html("<h2>"+e+"</h2>")):(p.css({float:"left","text-align":"left",clear:"none"}),p.html("<h3>"+e+"</h3>"))):p.hide(),t?h.hide():h.show(),r){$("#paneContent").detach(),o.append($("<div>").attr("id","paneContent")),l=$("#paneContent")}else l=$("#paneContent"),l.empty();l.append(a),SharkGame.Settings.current.showAnimations&&s?o.show().css("opacity",0).animate({opacity:1},n):o.show(),t?(document.getElementById("overlay").removeEventListener("click",SharkGame.PaneHandler.nextPaneInStack),i.removeClass("pointy")):(document.getElementById("overlay").addEventListener("click",SharkGame.PaneHandler.nextPaneInStack),i.addClass("pointy"))},hidePane(){document.getElementById("overlay").removeEventListener("click",SharkGame.PaneHandler.nextPaneInStack),$("#overlay").removeClass("pointy"),SharkGame.OverlayHandler.hideOverlay(),$("#pane").hide()},showOptions(){const e=SharkGame.PaneHandler.setUpOptions();SharkGame.PaneHandler.addPaneToStack("Options",e)},setUpOptions(){const e=$("<table>").attr("id","optionTable"),a={};$.each(SharkGame.Settings,((e,t)=>{"string"==typeof t.category&&(a[t.category]||(a[t.category]=[]),a[t.category].push(e))})),$.each(a,((a,t)=>{e.append($("<tr>").html("<h3><br><span style='text-decoration: underline'>"+sharktext.boldString(a)+"</span></h3>")),_.each(t,(a=>{const t=SharkGame.Settings[a];if("current"===a)return;const n=$("<tr>");n.append($("<td>").addClass("optionLabel").html(t.name+":<br/><span class='smallDesc'>("+t.desc+")</span>"));const s=SharkGame.Settings.current[a];$.each(t.options,((e,t)=>{const r=t===s;n.append($("<td>").append($("<button>").attr("id","optionButton-"+a+"-"+e).addClass("option-button"+(r?" disabled":"")).html("boolean"==typeof t?t?"on":"off":t).on("click",SharkGame.PaneHandler.onOptionClick)))})),e.append(n)}))}));let t=$("<tr>");t.append($("<td>").html("Import/Export Save:<br/><span class='smallDesc'>(Turn your save into text for other people to load, or as a backup.)</span>")),t.append($("<td>").append($("<button>").html("import").addClass("option-button").on("click",(function(){if($(this).hasClass("disabled"))return;const e=$("#importExportField").val();""===e?(SharkGame.PaneHandler.nextPaneInStack(),log.addError("You need to paste something in first!")):confirm("Are you absolutely sure? This will override your current save.")&&SharkGame.Save.importData(e)})))),t.append($("<td>").append($("<button>").html("export").addClass("option-button").on("click",(function(){$(this).hasClass("disabled")||$("#importExportField").val(SharkGame.Save.exportData())})))),t.append($("<td>").attr("colSpan",4).append($("<input>").attr("type","text").attr("id","importExportField"))),e.append(t),t=$("<tr>");const n=$("<tr>");if(t.append($("<td>").html("Save Backups:<br/><span class='smallDesc'>(Create a backup save.)</span>")),n.append($("<td>").html("Load Backups:<br/><span class='smallDesc'>(Load a backup save.)</span>")),_.each(["1","2","3"],(e=>{t.append($("<td>").append($("<button>").html(`save ${e}`).addClass("option-button").on("click",(()=>{SharkGame.Save.savedGameExists(`Backup${e}`)&&!confirm("There is already a save in this slot. Overwrite it?")||(SharkGame.Save.createTaggedSave(`Backup${e}`),$(`#load${e}`).removeClass("disabled"))}))));const a=$("<button>").html(`load ${e}`).attr("id",`load${e}`).addClass("option-button").on("click",(()=>{!$(`#load${e}`).hasClass("disabled")&&SharkGame.Save.savedGameExists(`Backup${e}`)&&confirm(`Are you absolutely sure you want to load this save${SharkGame.Save.getTaggedSaveCharacteristics(`Backup${e}`)}?`)&&SharkGame.Save.loadTaggedSave(`Backup${e}`)}));SharkGame.Save.savedGameExists(`Backup${e}`)||a.addClass("disabled"),n.append($("<td>").append(a))})),e.append(t),SharkGame.persistentFlags.unlockedDebug){const e=$("<button>").html("load pre-cheats backup").attr("id","loadCheats").addClass("option-button").on("click",(()=>{!$("#loadCheats").hasClass("disabled")&&SharkGame.Save.savedGameExists("BackupCheats")&&confirm(`Are you absolutely sure you want to load this save${SharkGame.Save.getTaggedSaveCharacteristics("BackupCheats")}?`)&&SharkGame.Save.loadTaggedSave("BackupCheats")}));SharkGame.Save.savedGameExists("BackupCheats")||e.addClass("disabled"),n.append(e)}return e.append(n),t=$("<tr>"),t.append($("<td>").html("Wipe Settings:<br/><span class='smallDesc'>(Change all settings to default.)</span>")),t.append($("<td>").append($("<button>").html("wipe").addClass("option-button").on("click",(()=>{confirm("Are you absolutely sure you want to wipe your settings to default?")&&($.each(SharkGame.Settings.current,(e=>{SharkGame.Settings[e]&&(SharkGame.Settings.current[e]=SharkGame.Settings[e].defaultSetting,"function"==typeof SharkGame.Settings[e].onChange&&SharkGame.Settings[e].onChange())})),SharkGame.Keybinds.resetKeybindsToDefault(),SharkGame.PaneHandler.nextPaneInStack(),SharkGame.PaneHandler.showOptions())})))),e.append(t),t=$("<tr>"),t.append($("<td>").html("Wipe Save:<br/><span class='smallDesc'>(Completely wipe your main save and reset the game. COMPLETELY. FOREVER.)</span>")),t.append($("<td>").append($("<button>").html("wipe").addClass("option-button").on("click",(()=>{confirm("Are you absolutely sure you want to wipe your save?\nIt'll be gone forever!")&&main.resetGame()})))),e.append(t),SharkGame.persistentFlags.unlockedDebug&&(t=$("<tr>"),t.append($("<td>").html("Hide Cheats:<br/><span class='smallDesc'>(Hide or show cheats.)</span>")),t.append($("<td>").append($("<button>").html("show").addClass("option-button").on("click",(()=>{cad.debug()})))),t.append($("<td>").append($("<button>").html("hide").addClass("option-button").on("click",(()=>{cad.hideDebug()})))),e.prepend(t),e.prepend($("<tr>").html("<h3><br><span style='text-decoration: underline'>"+sharktext.boldString("CHEATS and DEBUG")+"</span></h3>"))),t=$("<tr>"),t.append($("<td>").html("Keybinds:<br/><span class='smallDesc'>(Change keybinds.)</span>")),t.append($("<td>").append($("<button>").html("change").addClass("option-button").on("click",(()=>{SharkGame.PaneHandler.showKeybinds()})))),e.prepend(t),e.prepend($("<tr>").html("<h3><br><span style='text-decoration: underline'>"+sharktext.boldString("KEYBINDS")+"</span></h3>")),e},onOptionClick(){if($(this).hasClass("disabled"))return;const e=$(this).attr("id").split("-"),a=e[1],t=parseInt(e[2]);SharkGame.Settings.current[a]=SharkGame.Settings[a].options[t],$('button[id^="optionButton-'+a+'"]').removeClass("disabled"),$(this).addClass("disabled"),(SharkGame.Settings[a].onChange||$.noop)()},showKeybinds(){SharkGame.Keybinds.waitForKey&&(SharkGame.Keybinds.waitForKey=!1);const e=$("<table>").attr("id","keybindTable");let a=$("<tr>");a.append($("<td>").append($("<button>").html("new bind").attr("id","new-bind-button").on("click",(function(){$(this).html("press some keys..."),SharkGame.Keybinds.waitForKey=!0})))),e.append(a),$.each(SharkGame.Keybinds.keybinds,((t,n)=>{if(a=$("<tr>").attr("id",SharkGame.Keybinds.compressKeyID(t)),a.append($("<td>").html(t)),SharkGame.Keybinds.actions.includes(n)){const e=$("<select>").on("change",(function(){SharkGame.Keybinds.addKeybind(t,$(this)[0].value),console.debug(`bound ${t} to ${$(this)[0].value}`)}));_.each(SharkGame.Keybinds.actions,((a,t)=>{e.append(`<option${t%2==0?' class="evenMessage"':""} ${n===a?" selected":""}>`+a+"</option>")})),a.append(e)}else a.append($("<td>").html(SharkGame.Keybinds.cleanActionID(n)));a.append($("<td>").append($("<button>").addClass("min close-button").html("âœ•").on("click",(()=>{$(`#${SharkGame.Keybinds.compressKeyID(t)}`).remove(),delete SharkGame.Keybinds.keybinds[t]})))),e.append(a)})),SharkGame.PaneHandler.addPaneToStack("Keybinds",e)},showChangelog(){const e=$("<div>").attr("id","changelogDiv");$.each(SharkGame.Changelog,((a,t)=>{const n=$("<div>").addClass("paneContentDiv");n.append($("<h3>").html(a+": "));const s=$("<ul>");_.each(t,(e=>{s.append($("<li>").html(e))})),n.append(s),e.append(n)})),SharkGame.PaneHandler.addPaneToStack("Changelog",e)},showHelp(){const e=$("<div>");e.append($("<div>").append(SharkGame.Panes.help).addClass("paneContentDiv")),SharkGame.PaneHandler.addPaneToStack("Help",e)},showAspectWarning(){const e=$("<div>");e.append($("<div>").attr("id","aspectInnerWarning").append("Uh oh!<br>Your save has aspects that are no longer in the game!<br>I'm sorry, but there's only one way we can fix this:<br>your <strong>aspects</strong> have been <strong>refunded</strong><br>so that you can <strong>replace them</strong> with <strong>new ones</strong>.<br><br>Remember that you can use the <strong>skip</strong> button<br>in the top-left of the screen to go back to the gateway.<br>").addClass("paneContentDiv")),SharkGame.Button.makeButton("confirmUnderstood","I understand my <br><strong>ASPECTS</strong> ARE <strong>REFUNDED</strong>",e,(()=>{SharkGame.PaneHandler.nextPaneInStack(),SharkGame.missingAspects=!1})),this.addPaneToStack("THAT'S NOT GOOD...",e,!0)},showUnlockedCheatsMessage(){this.addPaneToStack("...",SharkGame.Panes.cheats)}};